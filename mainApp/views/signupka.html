<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signupka</title>
    <link rel="stylesheet" href="/stylesheets/signupka.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
</head>

<body style="font-size: 22px;">

    <header>
        <div><img src="/images/twogether-logo.png" alt="로고" width="600px" height="230px"></div>
    </header>
    <div class="container">
        <br><br>
        <div class="kakao-login-btn">
            <button class="logka"><a href="/login/auth/kakao">카카오톡으로 가입하기</a></button>
        </div>
        <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
        <script>
        // 카카오 로그인 초기화
        Kakao.init('18f1f5174d57449e61102b40f59207e4');

        // 카카오 로그인 버튼 클릭 시
        document.getElementById('kakao-login-btn').addEventListener('click', () => {
            Kakao.Auth.login({
                success: function(authObj) {
                    // 카카오 로그인 성공 시, 팝업 창을 열어 추가 정보 입력 폼을 표시
                    const popup = window.open('', '_blank', 'width=400,height=400');
                    popup.document.write(`
                        <h2>추가 정보 입력</h2>
                        <form id="user-info-form">
                            <label for="name">전화번호:</label>
                            <input type="text" id="num" name="num" required><br>

                            <input type="submit" value="회원가입 완료">
                        </form>

                        <br>
                        <ul class="agree">
                            <li class="agreeAll">
                                <label for="agreeAll">
                                    <input type="checkbox" name="agreeAll" id="agreeAll">
                                    <span>전체 동의하기</span>
                                </label></li>
                            <li class="agree1">
                                <label for="agree1">
                                    <input type="checkbox" id="agree1"name="agree" value="1">
                                    <span>이용약관 동의<strong> (필수)</strong></span>
                                    <li class="agreeT">
                                        <textarea name="agree1" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                        </textarea>
                                    </li>
                                </label>
                            </li>
                            <li class="agree2">
                                <label for="agree2">
                                    <input type="checkbox" id="agree2" name="agree" value="2">
                                    <span>개인정보 수집 및 이용 동의<strong> (필수)</strong></span>
                                    <li class="agreeT">
                                        <textarea name="agree2" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                        </textarea>
                                    </li>
                                    
                                </label>
                            </li>
                            <li class="agree3">
                                <label for="agree3">
                            <input type="checkbox" id="agree3" name="agree" value="3">
                                <span>개인위치정보 수집ㆍ이용<strong> (필수)</strong></span>
                                <li class="agreeT">
                                    <textarea name="agree3" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                    </textarea>
                                </li>
                    </label>
                            </li>
                        </ul><br>
                    `);

                    // 추가 정보 입력 폼 제출 시
                    popup.document.getElementById('user-info-form').addEventListener('submit', (e) => {
                        e.preventDefault();

                        // 폼 데이터 가져오기
                        const formData = new FormData(e.target);

                        // 폼 데이터를 부모 창(원래 창)으로 전달 또는 서버로 전송 또는 처리하기
                        for (const pair of formData.entries()) {
                            console.log(pair[0] + ': ' + pair[1]);
                        }

                        // 팝업 창 닫기
                        popup.close();
                    });
                },
                fail: function(error) {
                    console.error('카카오 로그인 실패:', error);
                },
            });
        });
    </script>
        <br>
        <div class="q">
            <p>이미 계정이 있으신가요?</p>
            <p class="user" onclick="location.href='/login'">로그인하기</p>
        </div>
        </form>
    </div>

</body>

</html>