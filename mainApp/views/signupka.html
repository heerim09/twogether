<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌳TWOGETHER</title>
    <link rel="stylesheet" href="/stylesheets/signupka.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
</head>

<body style="font-size: 22px;">

    <header>
        <div><img src="/images/twogether-logo.png" onclick="move()" alt="로고" width="600px" height="230px"></div>
    </header>
    <div class="container">
        <p>아래 사항에 동의하시면, <strong style="font-weight: bold;">카카오톡으로 로그인하기</strong>를 눌러주세요.</p>
        <ul class="agree">
            <li class="agree1">
                <label for="agree1">
                        <span>이용약관 동의<strong> (필수)</strong></span>
                    </label>
                <div class="agreeT">
                    <textarea name="agree1" class="agreeText">TWOgether 서비스를 이용해 주셔서 감사합니다. 본 약관은 다양한 서비스의 이용과 관련하여 제공하는 TWOgether와 이를 이용하는 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 TWOgether 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
- 제1조(목적) 이 약관은 Team TWOgether가 운영하는 "TWOgether"에서 제공하는 인터넷 관련 서비스를 이용함에 있어 사이버 몰과 이용자의 권리 의무 및 책임사항을 규정함을목적으로 합니다.
※「PC통신, 무선 등을 이용하는 전자상거래에 대해서도 그 성질에 반하지 않는 한 이 약관을 준용합니다.」
<요약> 자세한 이용약관 정보는 하단의 이용약관 및 개인정보처리방침 페이지에서 확인바랍니다.
                    </textarea>
                </div>
            </li>
            <br>
            <li class="agree2">
                <label for="agree2">
                        <span>개인정보 수집 및 이용 동의<strong> (필수)</strong></span>
                    </label>
                <div class="agreeT">
                    <textarea name="agree2" class="agreeText">TWOgether의 개인정보 수집 및 처리 방침은 카카오의 처리방침을 기반으로 하고 있습니다. 서비스 제공을 위한 필요 최소한의 개인정보를 수집합니다.
회원 가입 시 또는 서비스 이용 과정에서 홈페이지 또는 개별 어플리케이션이나 프로그램 등을 통해 서비스 제공을 위해 필요 최소한의 개인정보를 수집하고 있습니다. 서비스 제공을 위해 반드시 필요한 최소한의 정보를 필수항목으로, 그 외 특화된 서비스를 제공하기 위해 추가 수집하는 정보는 선택항목으로 동의를 받고 있으며, 선택항목에 동의하지 않은 경우에도 서비스 이용 제한은 없습니다.개인정보를 수집하는 경우에는 원칙적으로 사전에 이용자에게 해당 사실을 알리고 동의를 구하고 있으며, 카카오로 로그인하기 방법을 통해 개인정보를 수집합니다.
TWOgether는 이용자의 별도 동의가 있거나 법령에 규정된 경우를 제외하고는 이용자의 개인정보를 제3자에게 제공하지 않습니다.</textarea>
                </div>
            </li>

            <br>
        </ul>
        <div class="kakao-login-btn">
            <button class="logka"><a href="/auth/kakao">카카오톡으로 로그인하기</a></button>
        </div>
        <br>
    </div>
    <footer class="foot">
        <p><a href="">개인정보처리방침</a> |
            <a href="">문의사항</a></p>
        <p>Infomation: Twogether
            <br>Copyright 2023 Team twogether. All rights reserved.</p>
    </footer>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script>
        // 카카오 로그인 초기화
        Kakao.init('18f1f5174d57449e61102b40f59207e4');

        // 카카오 로그인 버튼 클릭 시
        document.getElementById('kakao-login-btn').addEventListener('click', () => {
            Kakao.Auth.login({
                success: function(authObj) {
                    // 카카오 로그인 성공 시, 팝업 창을 열어 추가 정보 입력 폼을 표시
                    const popup = window.open('', '_blank', 'width=400,height=400');
                    popup.document.write(`
                        <h2>추가 정보 입력</h2>
                        <form id="user-info-form">
                            <label for="name">전화번호:</label>
                            <input type="text" id="num" name="num" required><br>

                            <input type="submit" value="회원가입 완료">
                        </form>

                        <br>
                        <ul class="agree">
                            <li class="agreeAll">
                                <label for="agreeAll">
                                    <input type="checkbox" name="agreeAll" id="agreeAll">
                                    <span>전체 동의하기</span>
                                </label></li>
                            <li class="agree1">
                                <label for="agree1">
                                    <input type="checkbox" id="agree1"name="agree" value="1">
                                    <span>이용약관 동의<strong> (필수)</strong></span>
                                    <li class="agreeT">
                                        <textarea name="agree1" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                        </textarea>
                                    </li>
                                </label>
                            </li>
                            <li class="agree2">
                                <label for="agree2">
                                    <input type="checkbox" id="agree2" name="agree" value="2">
                                    <span>개인정보 수집 및 이용 동의<strong> (필수)</strong></span>
                                    <li class="agreeT">
                                        <textarea name="agree2" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                        </textarea>
                                    </li>
                                    
                                </label>
                            </li>
                            <li class="agree3">
                                <label for="agree3">
                            <input type="checkbox" id="agree3" name="agree" value="3">
                                <span>개인위치정보 수집ㆍ이용<strong> (필수)</strong></span>
                                <li class="agreeT">
                                    <textarea name="agree3" class="agreeText">네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
                                    </textarea>
                                </li>
                    </label>
                            </li>
                        </ul><br>
                    `);

                    // 추가 정보 입력 폼 제출 시
                    popup.document.getElementById('user-info-form').addEventListener('submit', (e) => {
                        e.preventDefault();

                        // 폼 데이터 가져오기
                        const formData = new FormData(e.target);

                        // 폼 데이터를 부모 창(원래 창)으로 전달 또는 서버로 전송 또는 처리하기
                        for (const pair of formData.entries()) {
                            console.log(pair[0] + ': ' + pair[1]);
                        }

                        // 팝업 창 닫기
                        popup.close();
                    });
                },
                fail: function(error) {
                    console.error('카카오 로그인 실패:', error);
                },
            });
        });

        // kakaoId와 username을 Session Storage에 저장하는 함수
        function saveUserDataToSessionStorage(kakaoId, username) {
            // Session Storage에 데이터 저장
            sessionStorage.setItem('kakaoId', kakaoId);
            sessionStorage.setItem('username', username);
        }

        // kakaoId와 username을 가져오는 함수
        function getUserDataFromSessionStorage() {
            // Session Storage에서 데이터 가져오기
            const kakaoId = sessionStorage.getItem('kakaoId');
            const username = sessionStorage.getItem('username');

            // 가져온 데이터 반환
            return {
                kakaoId,
                username
            };
        }

        const kakaoIdToSave = user.data.id;
        const usernameToSave = user.data.properties.nickname;

        saveUserDataToSessionStorage(kakaoIdToSave, usernameToSave);
    </script>
    <br>
    </form>
    </div>
    <script>
        function move() {
            location.href = "/";
        }
    </script>
</body>

</html>